# PetLog Phase 2 ── 費用紀錄功能 PRD

## 1. 目標
讓使用者能夠為每隻寵物（貓）紀錄日常支出，並可依分類、日期、描述等條件查詢與篩選，解決記帳麻煩、分類混亂、缺乏回饋、多人共養等痛點。

**本功能以「視覺化呈現」為核心設計原則，讓使用者一目了然掌握支出狀況，提升資料閱讀與互動體驗。**

## 2. 使用情境
- 飼主記錄每筆與寵物相關的支出（如看診、飼料、保健品、玩具等）
- 可快速輸入、分類、查詢過往紀錄
- 支援多寵物切換，並可分開統計
- 未來可擴充統計圖表、LINE Notify 推播、多人共養協作

## 3. 功能需求
### 3.1 基本功能
- 新增費用紀錄：
  - 欄位：
    - 寵物（pet_id，必填）
    - 分類（category，必填，預設：醫療、飼料、保健品、日用品、其他，可自訂）
    - 金額（amount，必填，正整數）
    - 描述（description，選填）
    - 日期（date，必填，預設今日）
- 編輯/刪除費用紀錄
- 查詢/篩選：
  - 依寵物、分類、日期區間、關鍵字查詢
- 列表顯示：
  - 依日期倒序排列，顯示分類、金額、描述、日期
  - **以視覺化方式呈現費用資料（如卡片式、色彩區分、重點金額強調）**
  - **摘要區塊顯示本月總支出、分類排行、最近紀錄等重點資訊**

### 3.2 體驗優化
- 分類建議與自訂
- 多寵物切換
- 支援手機操作
- **支援圖表、色彩、卡片等視覺化元件，提升資料可讀性與互動感**

### 3.3 未來擴充
- LINE Notify 推播（如超過預算提醒）
- 多人共養協作（權限管理）

## 4. 技術需求
- 後端：
  - 新增 Expense domain model、repository、usecase、endpoint、transport
  - Schema 建議：id, pet_id, category, amount, description, date, created_at, updated_at
  - API：CRUD、查詢（支援多條件篩選）
- 前端：
  - 新增「費用列表」與「費用表單」頁面
  - 支援 CRUD 與查詢、篩選
  - UI/UX 針對快速輸入、分類建議、多寵物切換優化
  - **前端設計以視覺化呈現為主，包含卡片式列表、色彩區分、重點摘要、圖表等元件，確保資料一目了然且易於操作**

## 5. 非功能性需求
- 權限驗證（僅登入用戶可操作）
- 資料驗證（欄位必填、金額格式、日期合理性）
- 良好錯誤處理與提示

## 6. 其他備註
- 所有記錄、欄位、介面皆使用正體中文
- 任務與 PRD 記錄皆用正體中文
